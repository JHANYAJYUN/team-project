/* 
 *  3D按鈕: 基本款
 */
//  說明:外面要包一層<div>去控制按鈕的位置
//  e.g.<div class="btn-wrapper-center">
//      <div class="btn btn-COLOR">按鈕文字</div>
//      </div>
//author: Rhan0
.btn-wrapper-center {
    position: absolute;
    width: 120px;
    height: 40px;
    top: 50%;
    left: 50%;
    transform: translate(-50%);
}

.btn-wrapper-right {
    position: absolute;
    width: 120px;
    height: 40px;
    top: 20%;
    left: 20%;
    transform: translate(-50%);
}

.btn-wrapper-left {
    position: absolute;
    width: 120px;
    height: 40px;
    top: 80%;
    left: 80%;
    transform: translate(-50%);
}

@mixin btn_basic_module($btn-module) {

    @each $title,
    $color in $btn-module {
        .btn-basic-#{$title} {
            font-family: '微軟正黑體', Roboto Mono;
            letter-spacing: 0.4em;
            position: absolute;
            border: none;
            outline: none;
            width: 120px;
            height: 40px;
            background-color: $color;
            text-align: center;
            line-height: 40px;
            cursor: pointer;
            color: white;
            // border: 1px solid black;
            text-decoration: none !important;
            z-index: 1;

            &:before {
                content: '';
                position: absolute;
                width: 40px;
                height: 10px;
                left: -25px;
                bottom: 10px;
                background-color: $color + #111;
                transform: rotate(90deg) skew(45deg);

                background: linear-gradient(45deg, $color + #111 45%, black 45%, black 55%, $color + #111 10%);
                background-size: 7px 7px;
                // border: 1px solid black;
                // border: 1px solid black;
                // animation: shad-anim 5s linear infinite;
                z-index: -1;
            }

            &:after {
                content: '';
                position: absolute;
                width: 120px;
                height: 10px;
                bottom: -10px;
                left: -5px;
                background-color: $color - #111;
                transform: skew(-45deg) rotate(0deg);
                // border: 1px solid black;
                background: linear-gradient(80deg, $color - #111 40%, black 40%, black 55%, $color - #111 20%);
                background-size: 7px 7px;
                // animation: shad-anim 10s linear infinite;
                // border: 1px solid black;

                z-index: -1;
            }

            &.clicked {
                left: -5px;
                bottom: -5px;

                &:before {
                    height: 5px;
                    left: -22px;
                    bottom: 15px;
                }

                &:after {
                    height: 5px;
                    bottom: -5px;
                    left: -2px;
                }
            }
        }
    }

}

/* 
 *  3D按鈕: 重要按鈕(打賞、留言、購買)
 */
//  說明:照著下面的結構去使用就好...不用改
//  e.g.<div class="btn-big-test">
//          <div class="back side-way"></div>
//          <div class="left side-way"></div>
//          <div class="right side-way"></div>
//          <div class="top side-way"></div>
//          <div class="bottom side-way">
//              <div class='side-way__text'> 要用的文字 </div>
//          </div>
//          <div class="front side-way"></div>
//      </div>
//author: Rhan0
@mixin btn_big_module() {

    //CSS Variables
    .btn-big-test {
        --color: #f3de6b;
        --color-dark: #e7cc56;
        --color-dark-side-way: #e7cc56;
        --box-height: 200%;
        --box-width: 452%;
        --box-deep: 3vw;
        --light: #212121;
        --light-2: #f08b8c;
    }

    .side-way,
    .btn-big-test {
        width: 100%;
        height: 100%;
        border: .2vw solid $main-black;
    }


    .side-way {
        position: absolute;
        opacity: 1;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .btn-big-test {
        perspective: 1000px;
        transition: transform .5s linear;
        transform-style: preserve-3d;
        transform: rotateX(30deg) rotateZ(-180deg) rotateY(180deg);
        perspective-origin: 50% 0rem;

        // animation: rotate 10s ease-out infinite;
        .back {
            transform: translateY(calc(var(--box-height) - (var(--box-deep) * (0.5)))) translateZ(calc(var(--box-deep) * (-0.5))) rotateX(90deg);
            background: var(--color-dark);
            height: var(--box-deep);
        }

        .left {
            transform: translateX(calc(var(--box-deep) * (-0.5))) translateZ(calc(var(--box-deep) * (-0.5))) rotateY(90deg);
            background: var(--color-dark-side-way);
            width: var(--box-deep);
        }

        .right {
            transform: translateX(calc(var(--box-width) - var(--box-deep) * (0.5))) translateZ(calc(var(--box-deep) * (-0.5))) rotateY(90deg);
            background: var(--color-dark-side-way);
            width: var(--box-deep);
        }

        .top {
            background: var(color-dark);
            width: 100%;
            height: 100%;
            box-shadow: 0 -3px 5px 0 black;
        }

        .bottom {
            transform: translateZ(calc(var(--box-deep) * (-1)));
            background: var(--color);
            width: 100%;
            height: 100%;
            border-radius: 2px;
            box-sizing: comtainer;

            .side-way__text {
                transform: rotateX(30deg) rotateZ(-180deg) rotateY(180deg);
                font: bold 4vw "微軟正黑體";
                color: white;
            }
        }

        .front {
            transform: translateY(calc(var(--box-deep) * (-0.5))) translateZ(calc(var(--box-deep) * (-0.5))) rotateX(90deg);
            background: var(--color-dark);
            height: var(--box-deep);
        }
    }

    // .btn-big-active{
    //     --box-deep: 1rem !important;
    // }
    .bigBtnActive {
        --box-deep: 1rem !important;
    }

    //   .btn-big-test:hover {
    //     --box-deep: 1rem !important;
    //    }

    //    .btn-big-test:hover .top{
    //        box-shadow: 0 -3px 5px 0 var(--light), 0 -5px 10px 0 var(--light-2);
    //    }

    @keyframes rotate {
        100% {
            transform: rotateX(360deg) rotateY(360deg);
        }
    }
}

/* 
 *  3D按鈕: 重要按鈕(打賞、留言、購買)
 */
//  說明:

//author: Rhan0
@mixin btn_3d_module() {
    $background: #f8f8f8;
    $borderAndText: #262626;
    $buttonSides: #dfe4ea;
    $tilt: -45deg;
    $tilt15: 15deg;

    .btnWrapper {
        // width: auto;
        // height: auto;
        // display: flex;
        // align-items: center;
        // justify-content: center;
        // background-color: $background;
    }

    .btnWrapper a {
        display: block;
        width: 100%;
        height: 50%;
        color: #262626;
        font-size: 20px;
        background: #fff;
        text-align: center;
        text-decoration: none;
        text-transform: uppercase;
        line-height: 50px;
        border: 2px solid #262626;
        border-bottom: none;
        border-left: none;
        transform: skew(15deg);
        transition: all 4s;
    }

    .btnWrapper a:before {
        content: '';
        position: absolute;
        width: 102%;
        height: 40%;
        border: .15vw solid #262626;
        border-left: none;
        background: #dfe4ea;
        bottom: -40%;
        right: 5%;
        z-index: -1;
        transform: skewX(-45deg);
        box-shadow: 0 40px 25px rgba(0, 0, 0, .2);
        transition: all .4s;
    }

    .btnWrapper a:after {
        content: '';
        position: absolute;
        width: 13%;
        height: 107%;
        border: 2px solid #262626;
        border-bottom-left-radius: 2px;
        background: #dfe4ea;
        top: 15%;
        left: -13%;
        transform: skewY(-45deg);
    }

    .btnWrapper a:active {
        transform: translateY(6px) skew($tilt15);

        &:before {

            box-shadow: 0px 32px 20px rgba(0, 0, 0, 0.4)
        }
    }
}